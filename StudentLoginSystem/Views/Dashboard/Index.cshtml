@model UserModel

@{
    ViewData["Title"] = "Student Dashboard";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />

<style>
    body {
        background: linear-gradient(to right, #e0f7fa, #e8f5e9);
        font-family: 'Segoe UI', sans-serif;
    }

    .dashboard-card {
        border: none;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .dashboard-header {
        background: linear-gradient(135deg, #2880AF, #2880AF);
        color: #fff;
        padding: 20px;
        font-size: 1.5rem;
        font-weight: 600;
    }

    .table th {
        background-color: #f1f8e9;
        width: 200px;
    }

    .btn-download {
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }
</style>

<div class="container py-5">
    <div class="card dashboard-card">
        <div class="dashboard-header text-center">
            Welcome, @Model.StudentName
        </div>
        <div class="card-body px-4 py-5">
            <table class="table table-bordered align-middle">
                <tbody>
                    <tr>
                        <th scope="row">Roll Number</th>
                        <td>@Model.RollNumber</td>
                    </tr>
                    <tr>
                        <th scope="row">Student Name</th>
                        <td>@Model.StudentName</td>
                    </tr>
                    <tr>
                        <th scope="row">Father Name</th>
                        <td>@Model.FatherName</td>
                    </tr>
                    <tr>
                        <th scope="row">Program</th>
                        <td>@Model.Program</td>
                    </tr>
                    <tr>
                        <th scope="row">Group</th>
                        <td>@Model.Group</td>
                    </tr>
                    <tr>
                        <th scope="row">Standard Class</th>
                        <td>@Model.StandardClass</td>
                    </tr>
                    <tr>
                        <th scope="row">Voucher</th>
                        <td>
                            <a href="@Model.VoucherUrl" target="_blank" class="btn btn-outline-success btn-download">
                                <i class="fa-solid fa-file-arrow-down"></i> Download Voucher
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


<script>
    const mobileNumbers = [ // You should fill this from the server or dynamically
        '923342087639'
    ];

    const message = encodeURIComponent("Dear student, please check your account details and voucher.");

    function sendMessages() {
        mobileNumbers.forEach((number, index) => {
            setTimeout(() => {
                const url = `https://wa.me/${number}?text=${message}`;
                window.open(url, '_blank');
            }, index * 1500); // delay to avoid blocking
        });
    }
</script>